{% extends 'base.html' %}
{% block content %}
    <div id="modal-bg"
         class="fixed inset-0 flex items-center justify-center hidden z-50"
         onclick="bgClicked(event)">
        <div id="modal"
             onclick="modalClicked(event)"
             class="flex-col flex w-[80%] h-[80%]">
            <div id="graph-settings"
                 class="bg-gray-300 rounded-lg border p-3 flex flex-wrap flex-row items-center gap-3 w-full">
                <div class="flex items-center gap-2">
                    <label class="flex items-center gap-2">
                        Filename:
                        <input type="text"
                               id="graph-filename"
                               value="coral_graph"
                               placeholder="coral_graph"
                               class="border w-40 rounded px-2 py-0.5 bg-gray-100" />
                    </label>
                </div>
                <div class="flex items-center gap-2">
                    <label class="flex items-center gap-2">
                        Filetype:
                        <select class="bg-gray-200 border rounded px-1 py-0.5"
                                name="graph-filetype"
                                id="graph-filetype">
                            <option value="png">.png</option>
                            <option value="jpeg">.jpeg</option>
                            <option value="svg">.svg</option>
                            <option value="webp">.webp</option>
                        </select>
                    </label>
                </div>
                <div class="flex items-center gap-2">
                    <label class="flex items-center gap-2">
                        Height:
                        <input type="number"
                               id="graph-height"
                               value="800"
                               class="border w-32 rounded px-2 py-0.5 bg-gray-100"
                               onchange="changePlotHeight()" />
                        px
                    </label>
                </div>
                <div class="flex items-center gap-2">
                    <label class="flex items-center gap-2">
                        Width:
                        <input type="number"
                               id="graph-width"
                               value="800"
                               class="border w-32 rounded px-2 py-0.5 bg-gray-100"
                               onchange="changePlotWidth()" />
                        px
                    </label>
                </div>
                <div class="flex items-center gap-2">
                    <label class="flex items-center gap-2 cursor-pointer bg-gray-400/60 rounded p-1 border">
                        Transparent background
                        <input type="checkbox" onchange="makeGraphTransparent()">
                    </label>
                </div>
                <button id="download-button"
                        class="flex items-center gap-1 bg-gray-300 hover:bg-gray-400 text-black rounded-lg border px-3 py-1 cursor-pointer"
                        onclick="downloadGraph()">
                    <svg title="Download data"
                         class="w-5 h-5"
                         xmlns="http://www.w3.org/2000/svg"
                         fill="none"
                         viewBox="0 0 24 24"
                         stroke-width="1.5"
                         stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3" />
                    </svg>
                    Download
                </button>
            </div>
            <div id="modal-graph" class="bg-gray-300 border rounded-lg p-4 h-full w-full"
            </div></div>
    </div>
</div>
<div id="details" class="text-lg">
    <div class="flex-col items-center justify-center content-center">
        <div>
            <div onclick='downloadFile({% block filename %} {% endblock %})'
                 class="bg-gray-300 hover:bg-gray-400/60 cursor-pointer flex w-fit items-center rounded-lg border gap-2 ml-2 p-2">
                <svg title="Download data"
                     class="size-8 rounded-lg cursor-pointer "
                     xmlns="http://www.w3.org/2000/svg"
                     fill="none"
                     viewBox="0 0 24 24"
                     stroke-width="1.5"
                     stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3" />
                </svg>
                {% block download_desc %}{% endblock %}
            </div>
            <div class="px-2 pb-2 rounded-lg">
                {% block content_windows %}{% endblock %}
            </div>
        </div>
    </div>
</div>
{% endblock %}
